<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>365 business development - File not found</title>
</head>
<body>
<script>
    var baseUrl = 'https://docs.365businessdev.com/';
    var currentUrl = window.location.href;

    function findGetParameter(parameterName) {
        var result = null,
            tmp = [];
        var items = location.search.substr(1).split("&");
        for (var index = 0; index < items.length; index++) {
            tmp = items[index].split("=");
            if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
        }
        return result;
    }
    if ((findGetParameter('unsupportedLocale') !== null) || (currentUrl.includes('unsupportedLocale'))) {
        console.log(`Redirect to ${`${baseUrl}?errorCode=404'`}`);
        //window.location = `${baseUrl}?errorCode=404'`;
    }

    var lang = navigator.language || navigator.userLanguage;
    if (lang.indexOf('de') == 0)
        bestLanguage = 'de-DE';
    else
        bestLanguage = 'en-US';

    // replace unsupported language 
    try {
        var currLanguage = currentUrl.split('/')[3];
        // console.log(`Language ${currLanguage} is not supported. Forwarding to ${bestLanguage} instead.`);
        // window.location = `${currentUrl.replace(currLanguage, bestLanguage)}?unsupportedLocale=${currLanguage}`;
        
        console.log(`Redirect to ${`${currentUrl.replace(currLanguage, bestLanguage)}?unsupportedLocale=${currLanguage}`}`);
    } catch {
        // window.location = `${baseUrl}${bestLanguage}/?unsupportedLocale=${currLanguage}`;
        
        console.log(`Redirect to ${`${baseUrl}${bestLanguage}/?unsupportedLocale=${currLanguage}`}`);
    }
</script>
</body>
</html>
